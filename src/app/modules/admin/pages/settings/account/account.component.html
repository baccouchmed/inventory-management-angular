<div class="w-full max-w-3xl" *ngIf="user">
  <!-- Loader -->
  <div class="absolute inset-x-0 top-0" *ngIf="loadingYouAre">
    <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
  </div>
  <!-- Form -->
  <form #myForm="ngForm" (ngSubmit)="youAreSubmit(myForm)" ngForm="ngForm">
    <!-- Section -->
    <div class="w-full">
      <div class="text-xl">{{ 'Profile' | transloco }}</div>
      <div class="text-secondary">
        {{ 'Communication details in case we want to connect with you' | transloco }}
      </div>
    </div>
    <!-- User -->
    <div class="flex flex-col items-center w-full p-4">
      <div class="relative w-40 h-40">
        <button
          id="img1"
          class="changeAvatar absolute w-10 h-10 rounded rounded-full bg-gray-800 text-white"
          (click)="fileInput.click()"
          type="button"
        >
          <mat-icon class="icon-size-6" svgIcon="iconsmind:camera_2"></mat-icon>
        </button>
        <ng-container *ngIf="user.avatar">
          <img
            id="img2"
            class="w-full h-full rounded-full avatar"
            [src]="urlAvatar + user.avatar"
            alt="Contact avatar"
          />
        </ng-container>
        <mat-icon
          id="img3"
          class="avatar"
          *ngIf="!user.avatar"
          [svgIcon]="'heroicons_solid:user-circle'"
        ></mat-icon>
        <input
          accept="image/*"
          hidden
          type="file"
          (change)="onAvatarSelected($event)"
          #fileInput
          name="avatar"
          id="avatar"
        />
      </div>
      <div class="flex flex-col items-center justify-center w-full mt-6">
        <div
          class="w-full mt-0.5 whitespace-nowrap overflow-ellipsis overflow-hidden text-center text-md leading-normal font-medium text-secondary"
        >
          {{ user?.email }}
        </div>
      </div>
    </div>
    <div class="grid sm:grid-cols-4 gap-6 w-full my-8">
      <!-- Full name -->
      <div class="sm:col-span-2">
        <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
          <mat-label class="capitalize">{{ 'full name' | transloco }}</mat-label>
          <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:user'" matPrefix></mat-icon>
          <input
            [(ngModel)]="user.name"
            matInput
            name="fullname"
            type="text"
            [disabled]="loadingYouAre"
          />
        </mat-form-field>
      </div>
      <!-- Email -->
      <div class="sm:col-span-4">
        <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
          <mat-label class="capitalize">{{ 'email' | transloco }}</mat-label>
          <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:mail'" matPrefix></mat-icon>
          <input
            [(ngModel)]="user.email"
            matInput
            name="email"
            type="text"
            [disabled]="loadingYouAre"
          />
        </mat-form-field>
      </div>
      <!-- Phone Number -->
      <div class="sm:col-span-2">
        <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
          <mat-label class="capitalize">{{ 'phone number' | transloco }}</mat-label>
          <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:phone'" matPrefix></mat-icon>
          <input
            [(ngModel)]="user.phone"
            matInput
            name="phone"
            type="text"
            [disabled]="loadingYouAre"
          />
        </mat-form-field>
      </div>
    </div>

    <!-- Actions -->
    <div class="flex items-center justify-end">
      <button
        class="ml-4"
        mat-flat-button
        type="submit"
        [color]="'primary'"
        [disabled]="loadingYouAre"
      >
        Save
      </button>
    </div>
  </form>
</div>
